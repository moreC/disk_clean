# C盘大文件定时检查工具

## 功能说明
- 每天晚上8点自动检查C盘新增的大文件（超过10MB）
- 自动记录新增文件并生成报告
- 对比历史记录，只报告新增文件

## 文件说明
- `disk_checker.py` - 大文件检查主程序
- `task_manager.py` - 定时任务管理工具
- `data/large_files.json` - 历史扫描记录
- `logs/` - 检查报告目录

## 使用方法

### 1. 手动运行检查
```bash
python disk_checker.py
```

### 2. 设置定时任务（每天20:00）

#### 方法一：使用任务管理器GUI
1. 按 `Win + R`，输入 `taskschd.msc`，回车
2. 右侧点击 "创建基本任务..."
3. 名称填写：`C盘大文件检查`
4. 触发器选择：每日，设置时间为 20:00
5. 操作选择：启动程序
6. 程序或脚本填写：`python`
7. 添加参数填写：`D:\临时工具\disk_checker.py`
8. 点击完成

#### 方法二：使用命令行（需要管理员权限）
```cmd
schtasks /create /tn "DiskFileCheck" /tr "python D:\临时工具\disk_checker.py" /sc daily /st 20:00
```

### 3. 任务管理
```bash
# 查询任务状态
python task_manager.py --query

# 立即运行任务
python task_manager.py --run

# 删除任务
python task_manager.py --delete
```

## 报告输出
- 报告位置：`logs/large_files_YYYYMMDD.txt`
- 数据位置：`data/large_files.json`

## 首次运行
首次运行会扫描所有大文件作为基准，之后只报告新增文件。

## 报告示例
```
================================================================================
C盘大文件检查报告
检查时间: 2026-02-13 20:00:00
最小文件大小: 10 MB
================================================================================

新增大文件数量: 3 个

1. 文件路径: C:\Users\Administrator\Downloads\新文件.zip
   文件大小: 150.00 MB
   创建时间: 2026-02-13 15:30:00
   修改时间: 2026-02-13 15:30:00

2. 文件路径: C:\Users\Administrator\Documents\新文档.pdf
   文件大小: 25.00 MB
   创建时间: 2026-02-13 10:00:00
   修改时间: 2026-02-13 10:00:00

================================================================================
```
